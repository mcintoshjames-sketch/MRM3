[pytest]
testpaths = tests
python_files = test_*.py
python_functions = test_*
addopts = -v --tb=short -n auto --dist loadscope
filterwarnings =
    ignore:.*Can't sort tables for DROP.*:sqlalchemy.exc.SAWarning
    ignore:.*parseString.*deprecated:DeprecationWarning:matplotlib.*
    ignore:.*resetCache.*deprecated:DeprecationWarning:matplotlib.*
    ignore:.*enablePackrat.*deprecated:DeprecationWarning:matplotlib.*
markers =
    postgres: Postgres-backed integration tests (requires TEST_DATABASE_URL)
    performance: Performance/benchmark validations (opt-in)
env =
    DATABASE_URL=sqlite:///:memory:
    SECRET_KEY=test-secret-key-for-pytest-minimum-32-characters
